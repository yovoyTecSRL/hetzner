<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ORBIX Ae.N.K.I - Sistema de Defensa IA</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #1a1a2e 75%, #0a0a0a 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #ffd700;
        }

        .status {
            color: #00ff00;
            font-size: 1.2em;
            margin-top: 10px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .panel {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid #ffd700;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.2);
        }

        .panel h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .avatar-container {
            text-align: center;
            margin: 30px 0;
        }

        .avatar {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 3px solid #ffd700;
            animation: breathe 3s ease-in-out infinite;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metric {
            background: rgba(255, 215, 0, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #ffd700;
        }

        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #00ff00;
        }

        .metric-label {
            color: #ffd700;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .log-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            border: 1px solid #ffd700;
        }

        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-left: 3px solid #ffd700;
            padding-left: 10px;
        }

        .log-info { color: #00ff00; }
        .log-warning { color: #ffff00; }
        .log-error { color: #ff0000; }

        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
        }

        .chat-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            height: 400px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
        }

        .message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            max-width: 80%;
        }

        .user-message {
            background: #ffd700;
            color: #000;
            margin-left: auto;
        }

        .ai-message {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ffd700;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.5);
            color: #ffd700;
        }

        .status-indicators {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .indicator-light {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .online { background: #00ff00; }
        .warning { background: #ffff00; }
        .error { background: #ff0000; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ORBIX Ae.N.K.I</h1>
            <p>Sistema de Defensa de Inteligencia Artificial</p>
            <div class="status">SISTEMA OPERATIVO - MODO CENTINELA ACTIVO</div>
        </header>

        <div class="avatar-container">
            <img src="https://sistemasorbix.com/assets/img/aenki-avatar.png" alt="Ae.N.K.I Avatar" class="avatar" id="avatar">
        </div>

        <div class="dashboard-grid">
            <div class="panel">
                <h3>Chat con Ae.N.K.I</h3>
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai-message">
                            Â¡Hola! Soy Ae.N.K.I, tu asistente de defensa IA. Â¿En quÃ© puedo ayudarte hoy?
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="messageInput" placeholder="Escribe tu mensaje aquÃ­...">
                        <button class="btn" onclick="sendMessage()">Enviar</button>
                        <button class="btn" onclick="toggleVoice()" id="voiceBtn">ðŸŽ¤</button>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>MÃ©tricas del Sistema</h3>
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-value" id="cpuUsage">45%</div>
                        <div class="metric-label">CPU</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="memoryUsage">62%</div>
                        <div class="metric-label">Memoria</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="networkActivity">1.2GB</div>
                        <div class="metric-label">Red</div>
                    </div>
                    <div class="metric">
                        <div class="metric-value" id="threats">0</div>
                        <div class="metric-label">Amenazas</div>
                    </div>
                </div>
                <div class="status-indicators">
                    <div class="indicator">
                        <div class="indicator-light online"></div>
                        <span>Sistema Online</span>
                    </div>
                    <div class="indicator">
                        <div class="indicator-light online"></div>
                        <span>Defensa Activa</span>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>Logs del Sistema</h3>
                <div class="log-container" id="logContainer">
                    <div class="log-entry log-info">[INFO] Sistema iniciado correctamente</div>
                    <div class="log-entry log-info">[INFO] MÃ³dulo de defensa cargado</div>
                    <div class="log-entry log-info">[INFO] Conectado al servidor principal</div>
                    <div class="log-entry log-info">[INFO] Escaneo de seguridad completado</div>
                </div>
            </div>

            <div class="panel">
                <h3>Controles del Sistema</h3>
                <div class="controls">
                    <button class="btn" onclick="runDiagnostic()">DiagnÃ³stico</button>
                    <button class="btn" onclick="updateStatus()">Actualizar</button>
                    <button class="btn" onclick="emergencyMode()">Emergencia</button>
                </div>
                <div class="status-indicators">
                    <div class="indicator">
                        <div class="indicator-light online"></div>
                        <span>ConexiÃ³n Estable</span>
                    </div>
                    <div class="indicator">
                        <div class="indicator-light warning"></div>
                        <span>Modo Aprendizaje</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let isVoiceActive = false;
        let recognition;
        let synthesisSpeech;

        // InicializaciÃ³n del sistema
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸš€ Iniciando ORBIX Ae.N.K.I...');
            initializeSystem();
            initializeVoiceRecognition();
            startMetricsUpdate();
            addLogEntry('Sistema ORBIX Ae.N.K.I iniciado correctamente', 'info');
        });

        function initializeSystem() {
            // ConfiguraciÃ³n inicial
            const avatar = document.getElementById('avatar');
            avatar.addEventListener('click', function() {
                animateAvatar('talk');
            });

            // Actualizar mÃ©tricas cada 5 segundos
            setInterval(updateMetrics, 5000);
        }

        function initializeVoiceRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'es-ES';

                recognition.onresult = function(event) {
                    let finalTranscript = '';
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        if (event.results[i].isFinal) {
                            finalTranscript += event.results[i][0].transcript;
                        }
                    }
                    if (finalTranscript) {
                        document.getElementById('messageInput').value = finalTranscript;
                        processVoiceCommand(finalTranscript);
                    }
                };

                recognition.onerror = function(event) {
                    console.error('Error de reconocimiento de voz:', event.error);
                    addLogEntry('Error en reconocimiento de voz: ' + event.error, 'warning');
                };
            }
        }

        function toggleVoice() {
            const voiceBtn = document.getElementById('voiceBtn');
            if (!isVoiceActive) {
                recognition.start();
                isVoiceActive = true;
                voiceBtn.textContent = 'ðŸ”´';
                voiceBtn.style.background = 'red';
                animateAvatar('listen');
                addLogEntry('Reconocimiento de voz activado', 'info');
            } else {
                recognition.stop();
                isVoiceActive = false;
                voiceBtn.textContent = 'ðŸŽ¤';
                voiceBtn.style.background = '';
                animateAvatar('idle');
                addLogEntry('Reconocimiento de voz desactivado', 'info');
            }
        }

        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            if (message) {
                addMessage(message, 'user');
                messageInput.value = '';
                
                // Simular respuesta de IA
                setTimeout(() => {
                    const response = generateAIResponse(message);
                    addMessage(response, 'ai');
                    speakResponse(response);
                    animateAvatar('talk');
                }, 1000);
            }
        }

        function addMessage(message, type) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            messageDiv.textContent = message;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function generateAIResponse(message) {
            const responses = [
                "Procesando tu solicitud... Sistema operativo normal.",
                "AnÃ¡lisis completado. No se detectaron amenazas.",
                "Ejecutando protocolo de seguridad avanzado.",
                "Datos procesados correctamente. Sistema estable.",
                "Monitoreo continuo activado. Todo bajo control.",
                "AnÃ¡lisis de patrones completado. Resultados Ã³ptimos."
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        function speakResponse(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'es-ES';
                utterance.rate = 0.8;
                utterance.pitch = 1.2;
                window.speechSynthesis.speak(utterance);
            }
        }

        function animateAvatar(action) {
            const avatar = document.getElementById('avatar');
            avatar.className = `avatar ${action}`;
            
            setTimeout(() => {
                avatar.className = 'avatar';
            }, 2000);
        }

        function updateMetrics() {
            document.getElementById('cpuUsage').textContent = Math.floor(Math.random() * 30 + 30) + '%';
            document.getElementById('memoryUsage').textContent = Math.floor(Math.random() * 20 + 50) + '%';
            document.getElementById('networkActivity').textContent = (Math.random() * 2 + 0.5).toFixed(1) + 'GB';
            document.getElementById('threats').textContent = Math.floor(Math.random() * 3);
        }

        function addLogEntry(message, type) {
            const logContainer = document.getElementById('logContainer');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            const timestamp = new Date().toLocaleTimeString();
            logEntry.textContent = `[${timestamp}] ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function runDiagnostic() {
            addLogEntry('Iniciando diagnÃ³stico del sistema...', 'info');
            animateAvatar('process');
            
            setTimeout(() => {
                addLogEntry('DiagnÃ³stico completado - Sistema operativo', 'info');
                animateAvatar('happy');
            }, 3000);
        }

        function updateStatus() {
            addLogEntry('Actualizando estado del sistema...', 'info');
            updateMetrics();
            
            setTimeout(() => {
                addLogEntry('Estado actualizado correctamente', 'info');
            }, 1000);
        }

        function emergencyMode() {
            addLogEntry('MODO EMERGENCIA ACTIVADO', 'warning');
            animateAvatar('alert');
            
            setTimeout(() => {
                addLogEntry('Sistema en modo de emergencia - Todas las defensas activas', 'warning');
            }, 1000);
        }

        function processVoiceCommand(command) {
            command = command.toLowerCase();
            
            if (command.includes('diagnÃ³stico') || command.includes('diagnostico')) {
                runDiagnostic();
            } else if (command.includes('actualizar') || command.includes('estado')) {
                updateStatus();
            } else if (command.includes('emergencia') || command.includes('alerta')) {
                emergencyMode();
            } else {
                // Procesar como mensaje normal
                addMessage(command, 'user');
                setTimeout(() => {
                    const response = generateAIResponse(command);
                    addMessage(response, 'ai');
                    speakResponse(response);
                }, 1000);
            }
        }

        function startMetricsUpdate() {
            setInterval(() => {
                updateMetrics();
                addLogEntry('MÃ©tricas actualizadas automÃ¡ticamente', 'info');
            }, 30000); // Cada 30 segundos
        }

        // Manejo de eventos de teclado
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Efectos visuales adicionales
        setInterval(() => {
            const avatar = document.getElementById('avatar');
            if (avatar.className === 'avatar') {
                avatar.style.boxShadow = '0 0 ' + (Math.random() * 20 + 30) + 'px rgba(255, 215, 0, 0.5)';
            }
        }, 2000);
    </script>
</body>
</html>
