<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ORBIX Ae.N.K.I - Sistema de Defensa IA</title>
    <meta http-equiv="refresh" content="0; url=orbix_aenki_dashboard.html">
    <script>
        // Redirección automática al dashboard principal
        window.location.href = 'orbix_aenki_dashboard.html';
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #1a1a2e 75%, #0a0a0a 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Efectos de partículas de fondo */
        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ffd700;
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.5; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, #ffd700, transparent);
            animation: rotate 4s linear infinite;
            opacity: 0.1;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            position: relative;
            z-index: 1;
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .website-link {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            color: #1a1a2e;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            margin-right: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        .website-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }

        .website-status {
            position: relative;
            z-index: 1;
            color: white;
            font-size: 0.9em;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            margin-bottom: 30px;
        }

        /* Panel del Avatar Ae.N.K.I */
        .avatar-panel {
            background: rgba(26, 26, 46, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border: 2px solid #ffd700;
            position: relative;
            overflow: hidden;
        }

        .avatar-container {
            text-align: center;
            margin-bottom: 30px;
        }

        .avatar {
            width: 300px;
            height: 400px;
            border-radius: 20px;
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            animation: glow 3s ease-in-out infinite alternate;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .avatar:hover {
            transform: scale(1.05);
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.8);
        }

        .avatar.talking {
            animation: talk 0.5s ease-in-out infinite;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 30px rgba(255, 215, 0, 0.5); }
            100% { box-shadow: 0 0 50px rgba(255, 215, 0, 0.8); }
        }

        @keyframes talk {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* TalkingHead 3D Avatar Container */
        .talking-head-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .talking-head-iframe {
            width: 280px;
            height: 380px;
            border: none;
            border-radius: 15px;
            background: transparent;
        }

        .avatar-fallback {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            color: #ffd700;
            font-size: 24px;
            text-align: center;
            flex-direction: column;
        }

        .avatar-fallback .robot-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .avatar-name {
            font-size: 1.5em;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .avatar-status {
            font-size: 0.9em;
            color: #4CAF50;
            margin-bottom: 20px;
        }

        /* Controles de voz */
        .voice-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .voice-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            color: #1a1a2e;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }

        .voice-btn:active {
            transform: translateY(0);
        }

        .voice-btn.listening {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Panel de Chat */
        .chat-panel {
            background: rgba(26, 26, 46, 0.9);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border: 2px solid #ffd700;
            display: flex;
            flex-direction: column;
            height: 600px;
        }

        .chat-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .chat-header h2 {
            color: #ffd700;
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            padding-right: 10px;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 80%;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            color: #1a1a2e;
            margin-left: auto;
            font-weight: 500;
        }

        .message.ai {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .message-input-container {
            display: flex;
            gap: 10px;
        }

        .message-input {
            flex: 1;
            padding: 15px;
            border: 2px solid #ffd700;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
            outline: none;
            transition: all 0.3s ease;
        }

        .message-input:focus {
            border-color: #ffed4a;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        .message-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .send-btn {
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            color: #1a1a2e;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.5);
        }

        /* Paneles de Sistema */
        .system-panels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .panel {
            background: rgba(26, 26, 46, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .panel:hover {
            transform: translateY(-5px);
        }

        .panel h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            animation: blink 2s infinite;
        }

        .status-indicator.online {
            background: #4CAF50;
        }

        .status-indicator.offline {
            background: #f44336;
        }

        .status-indicator.warning {
            background: #ff9800;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        /* Panel de Métricas */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: rgba(26, 26, 46, 0.9);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            border-color: #ffd700;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .metric-label {
            color: white;
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* Panel de Logs */
        .logs-panel {
            background: rgba(26, 26, 46, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid rgba(255, 215, 0, 0.3);
            margin-bottom: 30px;
        }

        .logs-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 3px;
            transition: background-color 0.3s ease;
        }

        .log-entry:hover {
            background: rgba(255, 215, 0, 0.1);
        }

        .log-entry.info {
            color: #4CAF50;
        }

        .log-entry.warning {
            color: #ff9800;
        }

        .log-entry.error {
            color: #f44336;
        }

        .log-entry.debug {
            color: #2196F3;
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .avatar {
                width: 250px;
                height: 320px;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
            
            .metrics-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }

        /* Efectos especiales */
        .glitch {
            animation: glitch 2s infinite;
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ffd700, transparent);
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateY(-100vh); }
            100% { transform: translateY(100vh); }
        }

        /* Scrollbar personalizada */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(26, 26, 46, 0.5);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #ffd700;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #ffed4a;
        }
    </style>
</head>
<body>
    <!-- Partículas de fondo -->
    <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="left: 20%; animation-delay: 1s;"></div>
    <div class="particle" style="left: 30%; animation-delay: 2s;"></div>
    <div class="particle" style="left: 40%; animation-delay: 3s;"></div>
    <div class="particle" style="left: 50%; animation-delay: 4s;"></div>
    <div class="particle" style="left: 60%; animation-delay: 5s;"></div>
    <div class="particle" style="left: 70%; animation-delay: 0.5s;"></div>
    <div class="particle" style="left: 80%; animation-delay: 1.5s;"></div>
    <div class="particle" style="left: 90%; animation-delay: 2.5s;"></div>

    <!-- Línea de escaneo -->
    <div class="scan-line"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ORBIX Ae.N.K.I</h1>
            <p class="subtitle">Sistema de Defensa IA - Hetzner Server Dashboard</p>
            <div style="margin-top: 20px;">
                <a href="https://sistemasorbix.com" target="_blank" class="website-link">
                    🌐 Acceder a sistemasorbix.com
                </a>
                <span class="website-status" id="websiteStatus">
                    <span class="status-indicator online"></span>
                    <span>Sitio Web: Online</span>
                </span>
            </div>
        </div>

        <!-- Contenido principal -->
        <div class="main-content">
            <!-- Panel de Chat -->
            <div class="chat-panel">
                <div class="chat-header">
                    <h2>🤖 Chat con Ae.N.K.I</h2>
                    <p style="color: rgba(255,255,255,0.7); font-size: 0.9em;">Asistente de IA para Sistemas Orbix</p>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai">
                        <strong>Ae.N.K.I:</strong> ¡Hola! Soy Ae.N.K.I, tu asistente de IA para el sistema Orbix. ¿En qué puedo ayudarte hoy?
                    </div>
                </div>
                <div class="message-input-container">
                    <input type="text" id="messageInput" class="message-input" placeholder="Escribe tu mensaje aquí..." />
                    <button onclick="sendMessage()" class="send-btn">Enviar</button>
                </div>
            </div>

            <!-- Panel del Avatar -->
            <div class="avatar-panel">
                <div class="avatar-container">
                    <div class="avatar" id="avatar" onclick="toggleAvatar()">
                        <div class="talking-head-container">
                            <div class="avatar-fallback">
                                <div class="robot-icon">🤖</div>
                                <div>Ae.N.K.I</div>
                                <div style="font-size: 0.8em; opacity: 0.7;">Click para activar</div>
                            </div>
                        </div>
                    </div>
                    <div class="avatar-name">Ae.N.K.I</div>
                    <div class="avatar-status">🟢 Sistema Online</div>
                </div>

                <!-- Controles de voz -->
                <div class="voice-controls">
                    <button class="voice-btn" onclick="startListening()">🎤 Hablar</button>
                    <button class="voice-btn" onclick="stopListening()">⏹️ Parar</button>
                </div>

                <!-- Panel de estado del sistema -->
                <div class="panel">
                    <h3>📊 Estado del Sistema</h3>
                    <div style="margin-bottom: 10px;">
                        <span class="status-indicator online"></span>
                        <span>Servidor Hetzner: Online</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <span class="status-indicator online"></span>
                        <span>IA Ae.N.K.I: Activo</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <span class="status-indicator online"></span>
                        <span>Defensa: Vigilante</span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <span class="status-indicator warning"></span>
                        <span>Monitoreo: Escaneando</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Métricas del sistema -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value" id="cpuUsage">45%</div>
                <div class="metric-label">CPU Usage</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="memoryUsage">62%</div>
                <div class="metric-label">Memory</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="diskUsage">38%</div>
                <div class="metric-label">Disk Usage</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="networkSpeed">1.2GB/s</div>
                <div class="metric-label">Network</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="uptime">99.8%</div>
                <div class="metric-label">Uptime</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="threats">0</div>
                <div class="metric-label">Threats</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="websiteResponse">245ms</div>
                <div class="metric-label">Website Response</div>
            </div>
            <div class="metric-card">
                <div class="metric-value" id="websiteUptime">100%</div>
                <div class="metric-label">Website Uptime</div>
            </div>
        </div>

        <!-- Paneles del sistema -->
        <div class="system-panels">
            <div class="panel">
                <h3>🔒 Seguridad</h3>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Firewall: Activo</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Antivirus: Actualizado</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>SSL/TLS: Válido</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator warning"></span>
                    <span>Escaneo: En progreso</span>
                </div>
            </div>

            <div class="panel">
                <h3>📡 Conectividad</h3>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Internet: Conectado</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>DNS: Resolviendo</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>CDN: Optimizado</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>API: Respondiendo</span>
                </div>
            </div>

            <div class="panel">
                <h3>⚙️ Servicios</h3>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Web Server: Running</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Database: Connected</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Cache: Operational</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator warning"></span>
                    <span>Backup: Scheduled</span>
                </div>
            </div>

            <div class="panel">
                <h3>🧠 IA Ae.N.K.I</h3>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Core AI: Online</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Learning: Active</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>Voice: Ready</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator warning"></span>
                    <span>Update: Pending</span>
                </div>
            </div>

            <div class="panel">
                <h3>🌐 Monitoreo Web</h3>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online" id="websiteStatusIndicator"></span>
                    <span>sistemasorbix.com: <span id="websiteStatusText">Online</span></span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>SSL Certificate: Valid</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>HTTPS: Secure</span>
                </div>
                <div style="margin-bottom: 10px;">
                    <span class="status-indicator online"></span>
                    <span>CDN: Active</span>
                </div>
                <div style="text-align: center; margin-top: 15px;">
                    <button onclick="checkWebsiteStatus()" class="voice-btn" style="font-size: 12px; padding: 8px 16px;">
                        🔍 Verificar Estado
                    </button>
                </div>
            </div>
        </div>

        <!-- Panel de Logs -->
        <div class="logs-panel">
            <h3 style="color: #ffd700; margin-bottom: 15px;">📋 Logs del Sistema</h3>
            <div class="logs-container" id="logsContainer">
                <div class="log-entry info">[2025-07-10 14:30:25] INFO: Sistema iniciado correctamente</div>
                <div class="log-entry info">[2025-07-10 14:30:26] INFO: Ae.N.K.I IA cargada y lista</div>
                <div class="log-entry info">[2025-07-10 14:30:27] INFO: Conexión con servidor Hetzner establecida</div>
                <div class="log-entry warning">[2025-07-10 14:30:28] WARN: Escaneo de seguridad iniciado</div>
                <div class="log-entry info">[2025-07-10 14:30:29] INFO: Firewall configurado y activo</div>
                <div class="log-entry debug">[2025-07-10 14:30:30] DEBUG: Monitoreo de recursos iniciado</div>
                <div class="log-entry info">[2025-07-10 14:30:31] INFO: Dashboard web cargado</div>
                <div class="log-entry info">[2025-07-10 14:30:32] INFO: Todas las funciones operativas</div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let isListening = false;
        let recognition;
        let isAvatarActive = false;
        let websiteCheckInterval;

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            initializeSystem();
            updateMetrics();
            checkWebsiteStatus();
            addSystemLog('Sistema dashboard inicializado', 'info');
        });

        // Función para inicializar el sistema
        function initializeSystem() {
            // Configurar reconocimiento de voz
            if ('webkitSpeechRecognition' in window) {
                recognition = new webkitSpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'es-ES';
                
                recognition.onresult = function(event) {
                    let transcript = '';
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        transcript += event.results[i][0].transcript;
                    }
                    document.getElementById('messageInput').value = transcript;
                };
                
                recognition.onerror = function(event) {
                    console.error('Error de reconocimiento de voz:', event.error);
                    addSystemLog('Error en reconocimiento de voz: ' + event.error, 'error');
                };
            }
            
            // Configurar entrada de texto
            document.getElementById('messageInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Actualizar métricas cada 5 segundos
            setInterval(updateMetrics, 5000);
            
            // Agregar logs periódicamente
            setInterval(addRandomLog, 10000);
            
            // Verificar estado del sitio web cada 30 segundos
            websiteCheckInterval = setInterval(checkWebsiteStatus, 30000);
        }

        // Función para enviar mensaje
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // Simular respuesta de IA
                setTimeout(() => {
                    const response = generateAIResponse(message);
                    addMessage(response, 'ai');
                    speakResponse(response);
                }, 1000);
            }
        }

        // Función para agregar mensaje al chat
        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            if (sender === 'ai') {
                messageDiv.innerHTML = `<strong>Ae.N.K.I:</strong> ${text}`;
            } else {
                messageDiv.textContent = text;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Función para generar respuesta de IA
        function generateAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Respuestas específicas según el contenido del mensaje
            if (lowerMessage.includes('sitio') || lowerMessage.includes('web') || lowerMessage.includes('sistemasorbix')) {
                return "El sitio web sistemasorbix.com está funcionando correctamente. Todos los servicios están operativos y la conexión es estable.";
            } else if (lowerMessage.includes('servidor') || lowerMessage.includes('hetzner')) {
                return "El servidor Hetzner está operativo con excelente rendimiento. Todos los recursos están dentro de parámetros normales.";
            } else if (lowerMessage.includes('seguridad') || lowerMessage.includes('amenaza')) {
                return "Sistema de seguridad activo. No se han detectado amenazas. Firewall y antivirus funcionando correctamente.";
            } else if (lowerMessage.includes('estado') || lowerMessage.includes('status')) {
                return "Estado general del sistema: ÓPTIMO. Todos los servicios operativos, conectividad estable y seguridad activa.";
            }
            
            const responses = [
                "Procesando tu solicitud... El sistema Orbix está funcionando óptimamente.",
                "Analizando datos del servidor Hetzner... Todo parece estar en orden.",
                "Ejecutando diagnóstico de seguridad... No se detectaron amenazas.",
                "Monitoreando recursos del sistema... Rendimiento dentro de parámetros normales.",
                "Revisando logs del sistema... Actividad normal detectada.",
                "Escaneando red... Conexión estable y segura.",
                "Verificando integridad de datos... Todos los archivos están seguros.",
                "Actualizando base de conocimiento... Aprendizaje continuo activado."
            ];
            
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Función para síntesis de voz
        function speakResponse(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'es-ES';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
                
                // Animar avatar mientras habla
                const avatar = document.getElementById('avatar');
                avatar.classList.add('talking');
                
                utterance.onend = function() {
                    avatar.classList.remove('talking');
                };
            }
        }

        // Función para iniciar escucha
        function startListening() {
            if (recognition && !isListening) {
                recognition.start();
                isListening = true;
                
                const btn = event.target;
                btn.classList.add('listening');
                btn.textContent = '🎤 Escuchando...';
                
                addSystemLog('Reconocimiento de voz iniciado', 'info');
            }
        }

        // Función para detener escucha
        function stopListening() {
            if (recognition && isListening) {
                recognition.stop();
                isListening = false;
                
                const listenBtn = document.querySelector('.voice-btn.listening');
                if (listenBtn) {
                    listenBtn.classList.remove('listening');
                    listenBtn.textContent = '🎤 Hablar';
                }
                
                addSystemLog('Reconocimiento de voz detenido', 'info');
            }
        }

        // Función para alternar avatar
        function toggleAvatar() {
            const avatar = document.getElementById('avatar');
            isAvatarActive = !isAvatarActive;
            
            if (isAvatarActive) {
                avatar.classList.add('glitch');
                addSystemLog('Avatar Ae.N.K.I activado', 'info');
            } else {
                avatar.classList.remove('glitch');
                addSystemLog('Avatar Ae.N.K.I desactivado', 'info');
            }
        }

        // Función para actualizar métricas
        function updateMetrics() {
            const metrics = {
                cpuUsage: Math.floor(Math.random() * 30) + 40,
                memoryUsage: Math.floor(Math.random() * 25) + 50,
                diskUsage: Math.floor(Math.random() * 20) + 30,
                networkSpeed: (Math.random() * 2 + 0.5).toFixed(1),
                uptime: (99.5 + Math.random() * 0.4).toFixed(1),
                threats: Math.floor(Math.random() * 3),
                websiteResponse: Math.floor(Math.random() * 200) + 150,
                websiteUptime: (99.8 + Math.random() * 0.15).toFixed(1)
            };
            
            document.getElementById('cpuUsage').textContent = metrics.cpuUsage + '%';
            document.getElementById('memoryUsage').textContent = metrics.memoryUsage + '%';
            document.getElementById('diskUsage').textContent = metrics.diskUsage + '%';
            document.getElementById('networkSpeed').textContent = metrics.networkSpeed + 'GB/s';
            document.getElementById('uptime').textContent = metrics.uptime + '%';
            document.getElementById('threats').textContent = metrics.threats;
            document.getElementById('websiteResponse').textContent = metrics.websiteResponse + 'ms';
            document.getElementById('websiteUptime').textContent = metrics.websiteUptime + '%';
        }

        // Función para agregar log al sistema
        function addSystemLog(message, type = 'info') {
            const logsContainer = document.getElementById('logsContainer');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            
            const now = new Date();
            const timestamp = now.toLocaleString('es-ES');
            
            logEntry.textContent = `[${timestamp}] ${type.toUpperCase()}: ${message}`;
            
            logsContainer.appendChild(logEntry);
            logsContainer.scrollTop = logsContainer.scrollHeight;
            
            // Mantener solo los últimos 50 logs
            const logs = logsContainer.children;
            if (logs.length > 50) {
                logsContainer.removeChild(logs[0]);
            }
        }

        // Función para agregar logs aleatorios
        function addRandomLog() {
            const logMessages = [
                'Monitoreo de recursos completado',
                'Escaneo de seguridad en progreso',
                'Backup automático programado',
                'Optimización de base de datos',
                'Verificación de integridad de archivos',
                'Actualización de definiciones de seguridad',
                'Limpieza de archivos temporales',
                'Sincronización de datos completada',
                'Verificación de estado de sistemasorbix.com',
                'Monitoreo de conectividad web activo',
                'Verificación SSL del sitio web completada'
            ];
            
            const logTypes = ['info', 'debug', 'warning'];
            const message = logMessages[Math.floor(Math.random() * logMessages.length)];
            const type = logTypes[Math.floor(Math.random() * logTypes.length)];
            
            addSystemLog(message, type);
        }

        // Función para verificar estado del sitio web
        function checkWebsiteStatus() {
            const websiteStatusIndicator = document.getElementById('websiteStatusIndicator');
            const websiteStatusText = document.getElementById('websiteStatusText');
            const websiteStatus = document.getElementById('websiteStatus');
            
            addSystemLog('Verificando estado de sistemasorbix.com...', 'info');
            
            // Simular verificación del sitio web
            setTimeout(() => {
                const isOnline = Math.random() > 0.05; // 95% de probabilidad de estar online
                
                if (isOnline) {
                    websiteStatusIndicator.className = 'status-indicator online';
                    websiteStatusText.textContent = 'Online';
                    websiteStatus.innerHTML = '<span class="status-indicator online"></span><span>Sitio Web: Online</span>';
                    addSystemLog('sistemasorbix.com: Sitio web respondiendo correctamente', 'info');
                } else {
                    websiteStatusIndicator.className = 'status-indicator error';
                    websiteStatusText.textContent = 'Verificando...';
                    websiteStatus.innerHTML = '<span class="status-indicator warning"></span><span>Sitio Web: Verificando</span>';
                    addSystemLog('sistemasorbix.com: Verificando conectividad del sitio web', 'warning');
                }
            }, 1000);
        }

        // Efectos visuales adicionales
        function createParticleEffect() {
            const particles = document.querySelectorAll('.particle');
            particles.forEach(particle => {
                const randomDelay = Math.random() * 5;
                particle.style.animationDelay = randomDelay + 's';
            });
        }

        // Inicializar efectos
        createParticleEffect();
    </script>
</body>
</html>
